{"version":3,"sources":["components/users/UserModal.jsx","components/users/UserList.jsx","views/UserPage.jsx"],"names":["UserModal","props","Modal","show","onHide","Header","closeButton","Title","Body","Register","isModal","user","hideModal","UserList","userApi","useUserContext","useState","openUserModal","setOpenUserModal","isAdmin","getLocal","openModal","useEffect","getUserList","Container","className","state","parseInt","Button","variant","onClick","initUser","counter","Table","listUsers","map","index","key","id","username","first_name","last_name","is_admin","email","created_at","updated_at","editUser","deleteUser","document","getElementById","style","display","UserPage"],"mappings":"qJAmBeA,EAfG,SAACC,GAClB,OACC,oCACE,kBAACC,EAAA,EAAD,CAAOC,KAAMF,EAAME,KAAMC,OAAQH,EAAMG,QACnC,kBAACF,EAAA,EAAMG,OAAP,CAAcC,aAAW,GACxB,kBAACJ,EAAA,EAAMK,MAAP,qBAED,kBAACL,EAAA,EAAMM,KAAP,KACE,kBAACC,EAAA,EAAD,CAAUC,QAAQ,OAAOC,KAAMV,EAAMU,KAAMC,UAAWX,EAAMG,a,gCCqDrDS,EA3DA,WAAO,IACdC,EAAYC,cAAZD,QADa,EAEqBE,oBAAS,GAF9B,mBAEdC,EAFc,KAECC,EAFD,KAGfC,EAAUC,YAAS,WAEnBC,EAAY,WAChBH,GAAiB,IAWnB,OAJAI,qBAAU,WACRR,EAAQS,gBACP,IAGD,kBAACC,EAAA,EAAD,CAAWC,UAAU,2BACnB,kBAAC,EAAD,CAAWtB,KAAMc,EAAeb,OAVjB,WACjBc,GAAiB,IASqCP,KAAMG,EAAQY,MAAMf,OACtE,6BAC0B,IAAtBgB,SAASR,GAAiB,kBAACS,EAAA,EAAD,CAAQC,QAAQ,UAAUJ,UAAU,kBAAkBK,QAAS,WAAMhB,EAAQiB,WAAYV,MAAe,mDAA0C,KAC9K,wBAAII,UAAU,cAAa,iDAAuBX,EAAQY,MAAMM,WAElE,kBAACC,EAAA,EAAD,KACE,+BACE,4BACE,wCACA,0CACA,yCACA,yCACA,qCACA,yCACA,yCACwB,IAAtBN,SAASR,GAAiB,yCAAqB,OAGrD,+BACGL,EAAQY,MAAMQ,UAAUC,KAAI,SAACxB,EAAMyB,GAAP,OAC3B,wBAAIC,IAAKD,EAAOE,GAAI3B,EAAK2B,IACvB,4BAAK3B,EAAK4B,UACV,4BAAK5B,EAAK6B,YACV,4BAAK7B,EAAK8B,WACV,4BAAK9B,EAAK+B,SAAW,MAAQ,MAC7B,4BAAK/B,EAAKgC,OACV,4BAAKhC,EAAKiC,YACV,4BAAKjC,EAAKkC,YACV,4BAC0B,IAAtBlB,SAASR,GAAiB,kBAACS,EAAA,EAAD,CAAQC,QAAQ,UAAUJ,UAAU,aAAaK,QAAS,WAAOhB,EAAQgC,SAASnC,GAAOU,MAAzF,UAA2H,KAC/H,IAAtBM,SAASR,GAAiB,kBAACS,EAAA,EAAD,CAAQC,QAAQ,SAASJ,UAAU,aAAaK,QAAS,WAAOhB,EAAQiC,WAAWpC,EAAK2B,IAAKU,SAASC,eAAetC,EAAK2B,IAAIY,MAAMC,QAAQ,SAA5I,UAAwK,cC5CvMC,UARE,WACf,OACE,oCACE,kBAAC,EAAD","file":"static/js/5.c9f796b9.chunk.js","sourcesContent":["import React from 'react';\nimport Register from '../auth/Register';\nimport { Modal } from 'react-bootstrap';\n\nconst UserModal = (props) => {\n\treturn (\n\t\t<>\n\t\t  <Modal show={props.show} onHide={props.onHide} >\n        <Modal.Header closeButton>\n\t        <Modal.Title>Edit a user</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Register isModal=\"true\" user={props.user} hideModal={props.onHide}/>\n        </Modal.Body>\n      </Modal>\n\t\t</>\n\t);\n}\n\nexport default UserModal;","import React, { useState, useEffect } from 'react';\nimport { useUserContext } from '../../contexts/UserContext';\nimport UserModal from \"./UserModal\";\nimport { getLocal } from \"../utils/Storage.js\";\nimport { Container, Table, Button } from 'react-bootstrap';\n\nconst UserList = () => {\n  const { userApi } = useUserContext();\n  const [openUserModal, setOpenUserModal] = useState(false);\n  const isAdmin = getLocal('isAdmin');\n\n  const openModal = () => {\n    setOpenUserModal(true);\n  }\n\n  const closeModal = () => {\n    setOpenUserModal(false);\n  }\n\n  useEffect(()=>{\n    userApi.getUserList();\n  }, []);\n\n  return (\n    <Container className=\"users rounded user-list\">\n      <UserModal show={openUserModal} onHide={closeModal} user={userApi.state.user} />\n        <div>\n          { parseInt(isAdmin) === 1 ? <Button variant=\"primary\" className=\"btn btn-sm hide\" onClick={()=> {userApi.initUser(); openModal();}}><small>Create new user</small></Button> : null}\n          <h6 className=\"text-right\"><small>Total users is {userApi.state.counter}</small></h6>\n        </div>\n        <Table>\n          <thead>\n            <tr>\n              <th>Username</th>\n              <th>First name</th>\n              <th>Last name</th>\n              <th>Is Admin?</th>            \n              <th>Email</th>\n              <th>CreatedAt</th>\n              <th>UpdatedAt</th>\n              { parseInt(isAdmin) === 1 ? <th>Operation</th> : null}\n            </tr>\n          </thead>\n          <tbody>\n            {userApi.state.listUsers.map((user, index) => (\n              <tr key={index} id={user.id}>\n                <td>{user.username}</td>\n                <td>{user.first_name}</td>\n                <td>{user.last_name}</td>\n                <td>{user.is_admin ? 'Yes' : 'No'}</td>\n                <td>{user.email}</td>\n                <td>{user.created_at}</td>\n                <td>{user.updated_at}</td>\n                <td>\n                  { parseInt(isAdmin) === 1 ? <Button variant=\"primary\" className=\"btn btn-sm\" onClick={() => {userApi.editUser(user); openModal();}}>Update</Button>  : null}\n                  { parseInt(isAdmin) === 1 ? <Button variant=\"danger\" className=\"btn btn-sm\" onClick={() => {userApi.deleteUser(user.id); document.getElementById(user.id).style.display=\"none\";}}>Delete</Button> : null}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </Container>\n    );\n  };\n  \n  export default UserList;","import React from \"react\";\nimport UserList from \"../components/users/UserList\";\n\nconst UserPage = () => {\n  return (\n    <>\n      <UserList />\n    </>\n  );\n};\n\nexport default UserPage;"],"sourceRoot":""}