(this.webpackJsonpum=this.webpackJsonpum||[]).push([[0],{12:function(e,t,a){"use strict";a.d(t,"b",(function(){return j}));var n=a(30),r=a.n(n),l=a(45),s=a(8),c=a(0),u=a.n(c),o=a(9);function i(e){return localStorage.getItem(e)}function m(e,t){return localStorage.setItem(e,t)}function d(e){localStorage.removeItem(e)}var p={isLoggedIn:!1,loading:!1,username:null,isAdmin:!1,error:null};function b(e,t){switch(t.type){case"INIT":return g();case"LOADING":return Object(o.a)({},e,{loading:!0});case"SUCCESS":return f(t);case"FAIL":return E(t);case"LOGOUT":return h();default:return e}}var g=function(){var e=i("username");return Object(o.a)({},p,{isLoggedIn:null!==e,username:e,isAdmin:null!==e&&i("isAdmin")})},f=function(e){return m("username",e.username),m("isAdmin",e.isAdmin),Object(o.a)({},p,{isLoggedIn:!0,username:e.username,isAdmin:e.isAdmin})},E=function(e){return v(),Object(o.a)({},p,{error:e.error})},h=function(){return v(),Object(o.a)({},p)},v=function(){d("username"),d("isAdmin")},O=Object(c.createContext)(),j=function(){return Object(c.useContext)(O)};t.a=function(e){var t=e.children,a=Object(c.useReducer)(b,p),n=Object(s.a)(a,2),o=n[0],i=n[1];Object(c.useEffect)((function(){null===o.username&&i({type:"INIT"})}),[o.username]);var m=function(){return i({type:"LOADING"})},d=Object(c.useCallback)(function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({type:"SUCCESS",username:t.username}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),g=Object(c.useCallback)(function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({type:"SUCCESS",username:t.email}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),f=Object(c.useCallback)((function(){return i({type:"LOGOUT"})}),[]),E=Object(c.useMemo)((function(){return{state:o,loading:m,logout:f,register:d,login:g}}),[f,d,g,o]);return u.a.createElement(O.Provider,{value:{authApi:E}},t)}},15:function(e,t,a){"use strict";var n=a(8),r=a(0),l=a.n(r),s=a(26),c=function(e){var t=e.name,a=e.type,c=e.placeholder,u=e.onChange,o=(e.onBlur,e.min),i=e.max,m=(e.error,e.label),d=(e.multiple,e.disabled),p=e.value,b=Object(r.useState)(!1),g=Object(n.a)(b,2),f=g[0],E=g[1];return l.a.createElement(s.a.Group,null,l.a.createElement(s.a.Label,null,m),l.a.createElement(s.a.Control,{type:f?"text":a,placeholder:c,minLength:o,maxLength:i,name:t,value:p,onChange:u,disabled:d,required:!0}),"password"===t&&l.a.createElement(s.a.Check,{type:"checkbox",label:f?"Hide password":"Show password",onClick:function(e){E(!1===f)}}))};c.defaultProps={name:"name",type:"text",placeholder:"",onChange:function(){},onBlur:function(){},min:6,max:100,error:"",label:"",multiple:!1,disabled:!1,value:""},t.a=c},25:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(81);t.a=function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement(l.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(23),r=a(9),l=a(8),s=a(0),c=a.n(s),u=a(80),o=a(82),i=a(26),m=a(83),d=a(15),p=a(12),b=a(34),g=a(25);function f(e){var t=Object(p.b)().authApi,a=Object(b.b)().userApi,f=Object(s.useState)(a.state.user),E=Object(l.a)(f,2),h=E[0],v=E[1],O=function(e){var t="isAdmin"!==e.target.name?e.target.value:e.target.checked;v(Object(r.a)({},h,Object(n.a)({},e.target.name,t)))};return c.a.createElement(c.a.Fragment,null,t.state.loading&&c.a.createElement(g.a,null),!t.state.loading&&c.a.createElement(u.a,{className:e.isModal?"justify-content-center bg-light rounded":"justify-content-center col-6 register bg-light rounded"},t.state.error&&c.a.createElement(o.a,{variant:"danger"},t.state.error),c.a.createElement(i.a,{onSubmit:function(n){n.preventDefault(),"INIT"===a.state.operate?(t.loading(),t.register(h)):("CREATE"===a.state.operate?a.createUser(h):a.updateUser(h),e.hideModal())},method:"post",className:"auth-padding"},c.a.createElement(d.a,{placeholder:"Please input username",type:"text",label:"Username",name:"username",min:"2",max:"16",value:h.username,onChange:O}),c.a.createElement(i.a.Check,{type:"checkbox",label:"Is an admin?",name:"isAdmin",checked:h.isAdmin,onChange:O}),c.a.createElement(d.a,{placeholder:"Please input first name",type:"text",label:"First Name",name:"firstName",min:"2",max:"16",value:h.firstName,onChange:O}),c.a.createElement(d.a,{placeholder:"Please input last name",type:"text",label:"Last Name",name:"lastName",min:"2",max:"16",value:h.lastName,onChange:O}),c.a.createElement(d.a,{placeholder:"Please input email",type:"email",label:"Email",name:"email",value:h.email,onChange:O}),c.a.createElement(d.a,{placeholder:"Please input password",type:"password",label:"Password",name:"password",min:"6",max:"16",value:h.password,onChange:O}),c.a.createElement(m.a,{variant:"primary",type:"submit",className:"btn btn-sm"},"Submit"))))}},34:function(e,t,a){"use strict";a.d(t,"b",(function(){return g}));var n=a(8),r=a(0),l=a.n(r),s=a(63),c=a(9),u={counter:0,operate:"INIT",user:{username:"",isAdmin:!1,firstName:"",lastName:"",email:"",password:""},listUsers:[{id:1,username:"ramsey",isAdmin:!1,firstName:"dawei",lastName:"jiang",email:"123@qq.com",password:"123456"}]},o=function(e,t){switch(t.type){case"INIT":return i(e,t);case"CREATE":return m(e,t);case"UPDATE":return p(e,t);case"DELETE":return d(e,t);default:return e}},i=function(e,t){return Object(c.a)({},e,{user:t.user,operate:t.operate})},m=function(e,t){return{counter:++e.counter,user:t.user,listUsers:[].concat(Object(s.a)(e.listUsers),[t.user])}},d=function(e,t){return{counter:e.counter-1,user:t.user,listUsers:e.listUsers.filter((function(e){return e.id!==t.userId}))}},p=function(e,t){return{counter:e.counter,user:t.user,listUsers:e.listUsers.map((function(e){return e.id===t.user.id?t.user:e}))}},b=Object(r.createContext)(),g=function(){return Object(r.useContext)(b)};t.a=function(e){var t=e.children,a=Object(r.useReducer)(o,u),s=Object(n.a)(a,2),c=s[0],i=s[1],m=Object(r.useCallback)((function(e){return i({type:"INIT",user:u.user,operate:"CREATE"})}),[]),d=Object(r.useCallback)((function(e){return i({type:"INIT",user:e,operate:"UPDATE"})}),[]),p=Object(r.useCallback)((function(e){return i({type:"CREATE",user:e})}),[]),g=Object(r.useCallback)((function(e){return i({type:"UPDATE",user:e})}),[]),f=Object(r.useCallback)((function(e){return i({type:"DELETE",userId:e})}),[]),E=Object(r.useMemo)((function(){return{state:c,initUser:m,editUser:d,createUser:p,deleteUser:f,updateUser:g}}),[c,m,d,p,f,g]);return l.a.createElement(b.Provider,{value:{userApi:E}},t)}},65:function(e,t,a){e.exports=a(79)},71:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),s=a.n(l),c=(a(70),a(71),a(14)),u=a(80),o=a(8),i=a(85),m=a(86),d=a(12),p=function(){var e=Object(d.b)().authApi,t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],s=a[1],u=e.state.isLoggedIn?"primary":"dark";return r.a.createElement(i.a,{expanded:l,fixed:"top",expand:"sm",bg:u,variant:"dark"},r.a.createElement(i.a.Brand,{href:"/"},"UserManagement"),r.a.createElement(i.a.Toggle,{onClick:function(){return s(!l&&"expanded")},"aria-controls":"basic-navbar-nav"}),r.a.createElement(i.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(m.a,{className:"mr-auto"},r.a.createElement(c.b,{exact:!0,className:"nav-link",to:"/",onClick:function(){return s(!1)}},"Home"),r.a.createElement(c.b,{className:"nav-link",to:"/users",onClick:function(){return s(!1)}},"Users")),!e.state.isLoggedIn&&r.a.createElement(m.a,null,r.a.createElement(c.b,{exact:!0,to:"/login",className:"nav-link"},"Login"),r.a.createElement(c.b,{exact:!0,to:"/register",className:"nav-link"},"Register")),e.state.isLoggedIn&&r.a.createElement(m.a,null,r.a.createElement(c.b,{to:"/",onClick:function(){return e.logout()},className:"nav-link"},"Logout"))))},b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null))};var g=a(48),f=function(){return r.a.createElement("div",{className:"font-small bg-dark"},r.a.createElement("div",{className:"text-center text-white py-1"},"\xa9 ",(new Date).getDate(),"/",function(){var e=(new Date).getMonth()+1;return e>=10?e:"0"+e}(),"/",(new Date).getFullYear()," Copyright:",r.a.createElement("label",{htmlFor:"footer"},"Ramsey Jiang")," "," ",r.a.createElement("a",{href:"https://github.com/ramseyjiang/",rel:"noopener noreferrer",target:"_blank",className:"link-icon-color"},r.a.createElement(g.a,null))," "," ",r.a.createElement("a",{href:"https://www.linkedin.com/in/ramsey-jiang-360950101",target:"_blank",rel:"noopener noreferrer",className:"link-icon-color"},r.a.createElement(g.b,null))))},E=a(64),h=a(18),v=a(87),O=function(){var e={0:"Allow User to Sign Up \u2014> Any one can sign up",1:"Allow Signed Up Users to be able to login. ",2:"Allow Logged in users to log out.",3:"List Users \u2014> Any user (both Admin and normal user) can see list of users (provided they are logged in).",4:"Update a user \u2014> Only an Admin User can Update any user's details (provided the Admin is logged in).",5:"Delete a user \u2014> Only an Admin User can Delete any user (provided the Admin is logged in).",6:"Fields you should have against the User table are : id, email, username, firstName, lastName  password, created_at, updated_at, is_admin \u2014> Required Fields",7:"The fields created_at, updated_at should record Date and time as to when the record was created and updated.",8:"Rebuild the Laravel auth default, make a user can login using username and password.",9:"Deploy codes on AWS for preview and upload codes to GitHub for review."},t={0:"success",1:"danger",2:"warning",3:"info",4:"dark"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{className:"home rounded"},r.a.createElement("h3",{className:"text-center"},"User Stories"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(v.a,null,Object.keys(e).map((function(a,n){return r.a.createElement(v.a.Item,{key:n,variant:t[a%5]},e[a])})))))))},j=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null))},y=a(23),w=a(9),k=a(82),C=a(26),N=a(83),A=a(25),U=a(15);function x(){var e=Object(d.b)().authApi,t=Object(n.useState)({username:"",password:""}),a=Object(o.a)(t,2),l=a[0],s=a[1],c=function(e){s(Object(w.a)({},l,Object(y.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,e.state.loading&&r.a.createElement(A.a,null),!e.state.loading&&r.a.createElement(u.a,{className:"justify-content-center col-6 login bg-light rounded"},e.state.error&&r.a.createElement(k.a,{variant:"danger"},e.state.error),r.a.createElement(C.a,{onSubmit:function(t){e.loading(),t.preventDefault(),e.login(l)},method:"post",className:"auth-padding"},r.a.createElement(U.a,{placeholder:"Please input username",type:"text",label:"Username",name:"username",min:"2",max:"16",value:l.username,onChange:c,required:"true"}),r.a.createElement(U.a,{placeholder:"Please input password",type:"password",label:"Password",name:"password",min:"6",max:"16",value:l.password,onChange:c,required:"true"}),r.a.createElement(N.a,{variant:"primary",type:"submit",className:"btn btn-sm"},"Login"))))}var I=a(29),L=Object(n.lazy)((function(){return a.e(4).then(a.bind(null,91))})),S=Object(n.lazy)((function(){return Promise.all([a.e(3),a.e(5)]).then(a.bind(null,94))})),T=function(){var e=Object(d.b)().authApi,t=function(t){var a=t.component,n=Object(E.a)(t,["component"]);if(a===x&&e.state.isLoggedIn)return r.a.createElement(h.a,{to:"/"});if(a===I.a&&e.state.isLoggedIn)return r.a.createElement(h.a,{to:"/"});if(a!==I.a||e.state.isLoggedIn){var l=e.state.isLoggedIn?a:x;return r.a.createElement(h.b,Object.assign({},n,{component:l}))}return r.a.createElement(h.b,Object.assign({},n,{component:I.a}))};return r.a.createElement(n.Suspense,{fallback:r.a.createElement(A.a,null)},r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:j}),r.a.createElement(t,{path:"/login",component:x}),r.a.createElement(t,{path:"/register",component:I.a}),r.a.createElement(t,{path:"/users",component:S}),r.a.createElement(h.b,{component:L})))},D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement(u.a,{fluid:!0},r.a.createElement(T,null)),r.a.createElement(f,null))},P=a(34),F=function(){return r.a.createElement(c.a,null,r.a.createElement(d.a,null,r.a.createElement(P.a,null,r.a.createElement(D,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[65,1,2]]]);
//# sourceMappingURL=main.0891d458.chunk.js.map