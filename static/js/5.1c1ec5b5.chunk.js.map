{"version":3,"sources":["components/users/UserModal.jsx","components/users/UserList.jsx","views/UserPage.jsx"],"names":["UserModal","props","Modal","show","onHide","Header","closeButton","Title","Body","Register","isModal","user","hideModal","UserList","userApi","useUserContext","useState","openUserModal","setOpenUserModal","isAdmin","getLocal","console","log","openModal","useEffect","getUserList","Container","className","state","Button","variant","onClick","initUser","counter","Table","listUsers","map","index","key","id","username","first_name","last_name","is_admin","email","created_at","updated_at","editUser","deleteUser","document","getElementById","style","display","UserPage"],"mappings":"qJAmBeA,EAfG,SAACC,GAClB,OACC,oCACE,kBAACC,EAAA,EAAD,CAAOC,KAAMF,EAAME,KAAMC,OAAQH,EAAMG,QACnC,kBAACF,EAAA,EAAMG,OAAP,CAAcC,aAAW,GACxB,kBAACJ,EAAA,EAAMK,MAAP,qBAED,kBAACL,EAAA,EAAMM,KAAP,KACE,kBAACC,EAAA,EAAD,CAAUC,QAAQ,OAAOC,KAAMV,EAAMU,KAAMC,UAAWX,EAAMG,a,gCCqDrDS,EA3DA,WAAO,IACdC,EAAYC,cAAZD,QADa,EAEqBE,oBAAS,GAF9B,mBAEdC,EAFc,KAECC,EAFD,KAGfC,EAAUC,YAAS,WAC3BC,QAAQC,IAAIH,EAAS,IACnB,IAAMI,EAAY,WAChBL,GAAiB,IAWnB,OAJAM,qBAAU,WACRV,EAAQW,gBACP,IAGD,kBAACC,EAAA,EAAD,CAAWC,UAAU,2BACnB,kBAAC,EAAD,CAAWxB,KAAMc,EAAeb,OAVjB,WACjBc,GAAiB,IASqCP,KAAMG,EAAQc,MAAMjB,OACtE,8BACKQ,GAAW,kBAACU,EAAA,EAAD,CAAQC,QAAQ,UAAUH,UAAU,aAAaI,QAAS,WAAMjB,EAAQkB,WAAYT,MAAe,mDACjH,wBAAII,UAAU,cAAa,iDAAuBb,EAAQc,MAAMK,WAElE,kBAACC,EAAA,EAAD,KACE,+BACE,4BACE,wCACA,0CACA,yCACA,yCACA,qCACA,yCACA,0CACGf,GAAW,2CAGlB,+BACGL,EAAQc,MAAMO,UAAUC,KAAI,SAACzB,EAAM0B,GAAP,OAC3B,wBAAIC,IAAKD,EAAOE,GAAI5B,EAAK4B,IACvB,4BAAK5B,EAAK6B,UACV,4BAAK7B,EAAK8B,YACV,4BAAK9B,EAAK+B,WACV,4BAAK/B,EAAKgC,SAAW,MAAQ,MAC7B,4BAAKhC,EAAKiC,OACV,4BAAKjC,EAAKkC,YACV,4BAAKlC,EAAKmC,YACV,6BACK3B,GAAW,kBAACU,EAAA,EAAD,CAAQC,QAAQ,UAAUH,UAAU,aAAaI,QAAS,WAAOjB,EAAQiC,SAASpC,GAAOY,MAAzF,WACXJ,GAAW,kBAACU,EAAA,EAAD,CAAQC,QAAQ,SAASH,UAAU,aAAaI,QAAS,WAAOjB,EAAQkC,WAAWrC,EAAK4B,IAAKU,SAASC,eAAevC,EAAK4B,IAAIY,MAAMC,QAAQ,SAA5I,mBC5CjBC,UARE,WACf,OACE,oCACE,kBAAC,EAAD","file":"static/js/5.1c1ec5b5.chunk.js","sourcesContent":["import React from 'react';\nimport Register from '../auth/Register';\nimport { Modal } from 'react-bootstrap';\n\nconst UserModal = (props) => {\n\treturn (\n\t\t<>\n\t\t  <Modal show={props.show} onHide={props.onHide} >\n        <Modal.Header closeButton>\n\t        <Modal.Title>Edit a user</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Register isModal=\"true\" user={props.user} hideModal={props.onHide}/>\n        </Modal.Body>\n      </Modal>\n\t\t</>\n\t);\n}\n\nexport default UserModal;","import React, { useState, useEffect } from 'react';\nimport { useUserContext } from '../../contexts/UserContext';\nimport UserModal from \"./UserModal\";\nimport { getLocal } from \"../utils/Storage.js\";\nimport { Container, Table, Button } from 'react-bootstrap';\n\nconst UserList = () => {\n  const { userApi } = useUserContext();\n  const [openUserModal, setOpenUserModal] = useState(false);\n  const isAdmin = getLocal('isAdmin');\nconsole.log(isAdmin, 33);\n  const openModal = () => {\n    setOpenUserModal(true);\n  }\n\n  const closeModal = () => {\n    setOpenUserModal(false);\n  }\n\n  useEffect(()=>{\n    userApi.getUserList();\n  }, []);\n\n  return (\n    <Container className=\"users rounded user-list\">\n      <UserModal show={openUserModal} onHide={closeModal} user={userApi.state.user} />\n        <div>\n          { !isAdmin && <Button variant=\"primary\" className=\"btn btn-sm\" onClick={()=> {userApi.initUser(); openModal();}}><small>Create new user</small></Button>}\n          <h6 className=\"text-right\"><small>Total users is {userApi.state.counter}</small></h6>\n        </div>\n        <Table>\n          <thead>\n            <tr>\n              <th>Username</th>\n              <th>First name</th>\n              <th>Last name</th>\n              <th>Is Admin?</th>            \n              <th>Email</th>\n              <th>CreatedAt</th>\n              <th>UpdatedAt</th>\n              { !isAdmin && <th>Operation</th>}\n            </tr>\n          </thead>\n          <tbody>\n            {userApi.state.listUsers.map((user, index) => (\n              <tr key={index} id={user.id}>\n                <td>{user.username}</td>\n                <td>{user.first_name}</td>\n                <td>{user.last_name}</td>\n                <td>{user.is_admin ? 'Yes' : 'No'}</td>\n                <td>{user.email}</td>\n                <td>{user.created_at}</td>\n                <td>{user.updated_at}</td>\n                <td>\n                  { !isAdmin && <Button variant=\"primary\" className=\"btn btn-sm\" onClick={() => {userApi.editUser(user); openModal();}}>Update</Button> }\n                  { !isAdmin && <Button variant=\"danger\" className=\"btn btn-sm\" onClick={() => {userApi.deleteUser(user.id); document.getElementById(user.id).style.display=\"none\";}}>Delete</Button>}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </Container>\n    );\n  };\n  \n  export default UserList;","import React from \"react\";\nimport UserList from \"../components/users/UserList\";\n\nconst UserPage = () => {\n  return (\n    <>\n      <UserList />\n    </>\n  );\n};\n\nexport default UserPage;"],"sourceRoot":""}